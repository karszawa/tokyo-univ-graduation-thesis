\chapter{実験}

前章で紹介したシステムを実装し、実際に管理栄養士とアスリートのグループを対象に実験を行った。
実験はシステムの可用性と信頼性を確認するための第1段階と、栄養指導データの収集のための第2段階に分けて行った。
以降の節ではそれぞれの段階の実験について述べる。

# システムの可用性と信頼性を確認するための試験利用

<!--
- 流石にぶっつけ本番はきついので間にベータテストの期間を挟んだよ
- 12月に2週間やったよ
- いろいろ不具合を教えてもらったので直したよ
- 便利なので本番利用してもらうことになったよ
-->

今回作成したシステムは管理栄養士とアスリートが毎日使うものであり、
アプリケーションの構成が複雑なため本番利用のためのベータテストでシステムの不具合を洗い出す必要があった。
この段階はそのための試験利用であり、2018年12月の中旬に2週間ほど行った。
対象は大学運動部のアスリート10名とそれらをサポートする管理栄養士1名である。

## 実験結果

ベータテストにより多くの不具合を洗い出し、アプリケーションの使用感に関するフィードバックを得ることができた。
以下でいくつかのフィードバックの例とその対策を紹介する。

\subsection*{栄養素の目標値を設定したい}

管理栄養士がアスリートに指導する際に日毎の栄養素の充足率を確認するために、この機能が必要になる。
また、後々アスリートのデータを用いて食事のレコメンドシステムを構築する際にも、
選手の栄養素目標値はデータとして活用できるので、この機能は二重の意味で必要不可欠である。

\subsection*{アスリート向けに日毎の栄養素の集計情報を表示したい}

この機能は選手が食事の自己学習を行うために必要になる。
管理栄養士がアスリートにフィードバックを送るまでに数日のタイムラグがあるのでアプリケーションを見るだけで自身の摂取栄養量が把握できる機能は必要である。
栄養素の目標値が設定されている場合、この機能と合わせてアスリートだけで簡易的な自己の食事管理を行うこともできるようになる。

\subsection*{食事記録の時刻を可変にしたい}

機械学習による食事認識はFoodLog APIを用いて行っているため、
ネットワーク状況などにより食事の際に記録を作成できないことがある。
こういったケースで食事後に記録を作成するためにこの機能が必要になる。

\subsection*{コンビニエンスストアなどで購入する食事製品を登録したい}

本実験で対象としたアスリートは大学運動部の選手だったこともあり、
日常的に摂取している食事がコンビニエンスストアの食品などの製品であった。
そういった場合により正確な栄養情報を取得するためには各製造会社ごとにWebページなどで公開されている栄養情報を参照する必要がある。
従来の管理栄養士の業務ではそういった情報をすべて自身で収集していた。
そういった手間を削減するために本システムではEatSmart[\cite{bib:eatsmart}]という食事製品の品目名・栄養情報等を集積しているデータ提供サービスを用いて食事記録に利用できるようにした。

# 栄養指導データの収集のための本番利用

<!--
- 1月から3月まで行うよ
- N人の選手がxの期間中にM個の記録を作ったよ
- アスリートにとってはオフシーズンにしかニュートリションサポートを受けることができないのでここが本番だよ
- 実際のコメントの内容など
  - 認識結果については懸念点があったが、似た食品で代用することで
- 管理栄養士の業務のビフォーアフター
- 使用者のコメント
  - 認識精度に課題はあるが第二位以降の候補には入っているので以外に使える
    - 栄養素が必ず入っているので良い
-->

ベータテストはシステムの不具合を洗い出すためのものであったので、その段階ではシステムには多くの不具合が含まれていた。
しかし、それでも本システムは利用した管理栄養士からの評判が良好であったため、2019年の1月から3月までの期間で実際の栄養指導に利用されることになった。
対象は一月につきアスリート10名と管理栄養士1名であり、月が変わるごとにアスリートは別の10人になる。
アスリートは大学アメフト部の選手であり、1月から3月までの期間はオフシーズンである。
オフシーズンは選手にとってボディビルディングを行うための絶好の期間であり[^offseason]、
今回のシステムの利用は管理栄養士やアスリートにとって紛れもなく本番の利用である。

[^offseason]: 試合シーズンは選手は試合のための調整を行ったり競技の技術を学んだりするため栄養指導の効果が薄い

## 実験結果

<!--
- TODO: 集計
- 栄養分析の手間が省かれ、一度により多くの選手を管理することが可能になった
- 食事記録をSlack等のコミュニケーションサービスから抜き出して保存する手間がなくなった
- 実際のカロリーとの誤差がある
- メニュー名による登録では細かい食材による違いを扱いきれない
- 表示方法を増やしたい
- 選手と目標栄養量の共有をできる
- 後日、選手と確認する際に日毎に整理されていた方がわかりやすい
-->

実験を開始してから本稿の執筆まので間(約2週間)に合計でXX件の食事記録が作成され、YY件のアドバイスが作成された。
図\ref{fig:athlete-food-records}に実際にアスリートが記録した食事を示す。

<!-- TODO: 食事例の写真の例 -->
![食事記録の写真](fig/athlete-food-records.eps){width=\linewidth}

次に図\ref{fig:athlete-messages}に管理栄養士とアスリートの間で送りあったメッセージの例を紹介する。

<!-- TODO: メッセージの例 -->
![メッセージの例](fig/athlete-messages.eps){width=0.8\linewidth}

図\ref{fig:athlete-food-records}や図\ref{fig:athlete-messages}で紹介したように、
本システムは管理栄養士とアスリートの間のコミュニケーションを取るのに十分な機能を備えていることが確認できた。
管理栄養士からも

- 食品ごとの栄養素の計算をする必要がなくなった
- 選手とやり取りしたメッセージをレポートの形式で保存する作業がなくなった
- 選手との食事記録の振り返りがわかりやすく、容易になった

< と肯定的な意見を得ることができた。
選手と目標栄養値を共有する機能についても、選手が自身で摂取栄養量を確認し食事を修正することができるようになったと報告があった。

逆に本システムの課題としては次のことが明らかになった。

- メニュー名による記録では食材の細かい違いによる栄養量の誤差を扱いきれない
- 食事記録を分析するために、摂取栄養量の変化なども見れると良い

< 前者については、本システムが食事画像から料理品目を推論するという仕組みを用いているため、
料理クラスを更に細かくするといった方法でしか対応できず、その方法では推論自体が難しい。
後者については栄養分析に必要な様々な統計情報を管理栄養士のアプリケーションに表示することで対応したい。
